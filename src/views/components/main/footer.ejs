<% if (NODE_ENV === 'development') { %>
<%- include('../tailwind-indicator', { position: 'right-2 bottom-2' }) %>
<% } %>
<%- include('../modals/donate') %>
<script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.8.1/dist/socket.io.min.js"></script>
<script>
  // Add fallback for older browsers
  const API_URL =
    window.location.origin ||
    `${window.location.protocol}//${window.location.hostname}` +
    `${window.location.port ? `:${window.location.port}` : ""}`;

  // For file protocol/SSR edge cases
  const SAFE_API_URL =
    API_URL === "null" || !API_URL ?
    "http://localhost:<%- APP_PORT %>" // Fallback for unusual environments
    :
    API_URL;
</script>
<script src="/js/app.js"></script>