<!-- <script src="https://cdn.tailwindcss.com"></script> -->
<link rel="stylesheet" href="/css/main.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
<style>
  button,
  a {
    cursor: pointer ! important;
  }
</style>
<script>
  tailwind.config = {
    darkMode: "class",
  };

  const storedTheme = localStorage.getItem("theme");

  if (storedTheme) {
    if (storedTheme === "dark") {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }
  } else {
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      document.documentElement.classList.add("dark");
      localStorage.setItem("theme", "dark");
    } else {
      document.documentElement.classList.remove("dark");
      localStorage.setItem("theme", "light");
    }
  }

  // Add fallback for older browsers
  const API_URL =
    window.location.origin ||
    `${window.location.protocol}//${window.location.hostname}` +
    `${window.location.port ? `:${window.location.port}` : ""}`;

  // For file protocol/SSR edge cases
  const SAFE_API_URL =
    API_URL === "null" || !API_URL ?
    "http://localhost:<%- APP_PORT %>" // Fallback for unusual environments
    :
    API_URL;
</script>