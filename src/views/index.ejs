<div class="container mx-auto p-4 dark:text-white">
  <h1 class="text-3xl font-bold text-center mb-8">How Much You Spent and Saved?</h1>

  <!-- Input Field for number of messages -->
  <div class="mb-6 text-center">
    <label for="messageInput" class="block mb-2 font-medium">
      Enter Number of Messages Sent (Monthly):
    </label>
    <input id="messageInput" type="number" value="<%= (totalDirectMessages + totalGroupMessages) %>" class="px-4 py-2 rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white" />
    <small class="block mt-1 text-gray-500 dark:text-gray-400 italic">DIRECT_MESSAGE = <%= totalDirectMessages %>, GROUP_MESSAGE = <%= totalGroupMessages %></small>
  </div>

  <!-- Responsive Card Grid: 1 column on mobile, 2 on small screens, 3 on larger screens -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
    <!-- Card for Whatsback -->
    <div id="whatsbackCard" class="bg-white dark:bg-gray-900 rounded-lg shadow p-4">
      <h2 class="text-xl font-semibold text-center mb-4">Whatsback</h2>
      <ul class="space-y-2 text-sm md:text-base">
        <li>
          <span class="font-medium">Messages Sent (Monthly):</span>
          <span id="whatsbackMessages"></span>
        </li>
        <li>
          <span class="font-medium">Cost per Message:</span> $0.00
        </li>
        <li>
          <span class="font-medium">Base Subscription:</span> -
        </li>
        <li>
          <span class="font-medium">Total Monthly Cost:</span>
          <span id="whatsbackTotalCost"></span>
        </li>
      </ul>
    </div>
    <!-- Card for Twilio API -->
    <div id="twilioCard" class="bg-white dark:bg-gray-900 rounded-lg shadow p-4">
      <h2 class="text-xl font-semibold text-center mb-4">Twilio API</h2>
      <ul class="space-y-2 text-sm md:text-base">
        <li>
          <span class="font-medium">Messages Sent (Monthly):</span>
          <span id="twilioMessages"></span>
        </li>
        <li>
          <span class="font-medium">Cost per Message:</span> $0.005
        </li>
        <li>
          <span class="font-medium">Base Subscription:</span> -
        </li>
        <li>
          <span class="font-medium">Total Monthly Cost:</span>
          <span id="twilioTotalCost"></span>
        </li>
      </ul>
    </div>
    <!-- Card for WATI / Chatfuel -->
    <div id="watiCard" class="bg-white dark:bg-gray-900 rounded-lg shadow p-4">
      <h2 class="text-xl font-semibold text-center mb-4">WATI / Chatfuel</h2>
      <ul class="space-y-2 text-sm md:text-base">
        <li>
          <span class="font-medium">Messages Sent (Monthly):</span>
          <span id="watiMessages"></span>
        </li>
        <li>
          <span class="font-medium">Cost per Message:</span> $0.04* (after 1,000 msgs)
        </li>
        <li>
          <span class="font-medium">Base Subscription:</span> $49
        </li>
        <li>
          <span class="font-medium">Total Monthly Cost:</span>
          <span id="watiTotalCost"></span>
        </li>
      </ul>
    </div>
  </div>

  <p class="text-xs md:text-sm text-gray-600 dark:text-gray-400 mt-4">
    *WATI / Chatfuel pricing is based on a typical plan where the first 1,000 messages are included in the $49 subscription, and each additional message costs approximately $0.04. Actual pricing may vary.
  </p>
</div>

<!-- Logs -->
<%- include('components/logs') %>

<script src="/js/dashboard.js"></script>